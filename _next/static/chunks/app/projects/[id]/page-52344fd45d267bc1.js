(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{344:(e,t,l)=>{"use strict";l.d(t,{default:()=>n});var r=l(5155),s=l(2115);function a(e){let{img:t,onClose:l}=e;return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/90 p-0",onClick:l,children:[(0,r.jsx)("button",{className:"absolute top-6 right-6 z-50 text-white text-3xl bg-black/60 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/80 transition",onClick:e=>{e.stopPropagation(),l()},"aria-label":"닫기",children:"\xd7"}),(0,r.jsx)("img",{src:t,alt:"확대 이미지",className:"max-w-full max-h-[90vh] rounded shadow-lg object-contain bg-black",onClick:e=>e.stopPropagation()})]}):null}function n(e){let{thumbnail:t,images:l,title:n}=e,[o,i]=(0,s.useState)(null);return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)("div",{className:"w-full aspect-video rounded overflow-hidden mb-6 bg-gray-100 dark:bg-neutral-800",children:(0,r.jsx)("img",{src:t,alt:n,className:"w-full h-full object-cover cursor-pointer",onClick:()=>i(t)})}),l&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:l.map((e,t)=>(0,r.jsx)("div",{className:"aspect-video rounded overflow-hidden bg-gray-100 dark:bg-neutral-800 cursor-pointer",onClick:()=>i(e),children:(0,r.jsx)("img",{src:e,alt:n+" image "+(t+1),className:"w-full h-full object-cover"})},t))}),(0,r.jsx)(a,{img:o,onClose:()=>i(null)})]})}},1528:(e,t,l)=>{"use strict";l.d(t,{default:()=>a});var r=l(5155),s=l(2115);let a=e=>{let{src:t,alt:l,...a}=e,[n,o]=(0,s.useState)(!1),[i,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[v,x]=(0,s.useState)(!0),g=(0,s.useRef)(null),b=t&&""!==t.trim();return((0,s.useEffect)(()=>{o(!0);let e=()=>{customElements.get("model-viewer")?u(!0):setTimeout(e,100)};e()},[]),(0,s.useEffect)(()=>{if(!g.current||!c||!b)return;let e=g.current;x(!0),h(!1);let t=e=>{console.warn("3D 모델 로딩 오류:",e),h(!0),x(!1)},l=()=>{console.log("3D 모델 로드 완료"),h(!1),x(!1)},r=e=>{if(console.log("3D 모델 로딩 시작"),x(!0),e.detail&&void 0!==e.detail.totalProgress){let t=e.detail.totalProgress;console.log("3D 모델 로딩 진행률: ".concat((100*t).toFixed(1),"%")),t>=1&&x(!1)}},s=()=>{console.log("3D 모델 준비 완료"),x(!1)},a=()=>{console.log("3D 모델 가시성 변경"),e.modelIsVisible&&x(!1)},n=()=>{console.log("3D 모델 완전 로드"),x(!1)},o=()=>{console.log("3D 모델 가시성 변경됨"),e.modelIsVisible&&x(!1)};e.addEventListener("error",t),e.addEventListener("load",l),e.addEventListener("progress",r),e.addEventListener("ready",s),e.addEventListener("model-visibility",a),e.addEventListener("model-load",n),e.addEventListener("model-visibility-changed",o);let i=()=>{d(document.fullscreenElement===e||"function"==typeof e.getRootNode&&document.fullscreenElement===e.getRootNode().host)};e.addEventListener("fullscreenchange",i),document.addEventListener("fullscreenchange",i);let u=setInterval(()=>{if(e.modelIsVisible||e.loaded||""===e.src||"complete"===e.readyState||4===e.readyState||e.model&&"complete"===e.model.readyState||!0===e.modelIsVisible||e.model&&4===e.model.readyState)return void x(!1)},1e3),m=setTimeout(()=>{v&&(console.log("3D 모델 로딩 타임아웃 - 강제 완료"),x(!1))},5e3);return()=>{clearInterval(u),clearTimeout(m),e.removeEventListener("error",t),e.removeEventListener("load",l),e.removeEventListener("progress",r),e.removeEventListener("ready",s),e.removeEventListener("model-visibility",a),e.removeEventListener("model-load",n),e.removeEventListener("model-visibility-changed",o),e.removeEventListener("fullscreenchange",i),document.removeEventListener("fullscreenchange",i)}},[c,t,b]),n&&c)?b?m?(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-red-500 mb-4",children:(0,r.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"3D 모델을 로드할 수 없습니다"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"파일을 확인해주세요"})]})}):(0,r.jsxs)("div",{className:"w-full h-full relative",children:[!i&&(0,r.jsx)("button",{type:"button",onClick:()=>{g.current&&("function"==typeof g.current.enterFullscreen?g.current.enterFullscreen():g.current.requestFullscreen&&g.current.requestFullscreen())},className:"absolute top-4 right-4 z-10 p-2 bg-black/80 text-white rounded hover:bg-black/90 transition-colors",title:"전체화면",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})}),i&&(0,r.jsx)("button",{type:"button",onClick:()=>{document.fullscreenElement&&document.exitFullscreen()},className:"fixed top-4 right-4 z-[10000] p-2 bg-black/80 text-white rounded hover:bg-black/90 transition-colors",title:"전체화면 닫기",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),v&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white border-t-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-sm text-white",children:"3D 모델 로딩 중..."})]})}),(0,r.jsx)("model-viewer",{ref:g,src:t,alt:l,ar:!0,"shadow-intensity":"1","camera-controls":!0,"auto-rotate":!0,"touch-action":"pan-y",style:{width:"100%",height:"100%",border:"none"},"camera-orbit":"0deg 75deg 75%","min-camera-orbit":"auto auto 50%","max-camera-orbit":"auto auto 150%","field-of-view":"30deg",exposure:"1",loading:"eager",reveal:"auto",...a})]}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-yellow-500 mb-4",children:(0,r.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",className:"mx-auto",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"3D 모델 파일이 없습니다"})]})}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"3D 뷰어 로딩 중..."})]})})}},5963:(e,t,l)=>{Promise.resolve().then(l.bind(l,1528)),Promise.resolve().then(l.bind(l,344))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5963)),_N_E=e.O()}]);